<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rep Scorecard Dashboard</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .transition-all { transition-property: all; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 300ms; }
        .hover-lift:hover { transform: translateY(-2px); box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 min-h-screen p-4 md:p-8">

    <!-- Header -->
    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 max-w-7xl mx-auto">
        <div>
            <h1 class="text-3xl font-extrabold text-slate-900 tracking-tight">Rep Performance Leaderboards</h1>
            <p class="text-slate-500 mt-1">FY2025 Criteria-based Rankings • Last Updated: Jan 2026</p>
        </div>
        
    </div>

    <!-- Top Summary Cards -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8 max-w-7xl mx-auto">
        <div class="bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl shadow-md p-4 text-white">
            <div class="flex justify-between items-start">
                <div>
                    <p class="text-blue-100 text-xs font-bold uppercase tracking-wider">Top Performer</p>
                    <h3 class="text-2xl font-bold mt-1">Vinal Chand</h3>
                    <p class="text-blue-200 text-xs mt-1">Suva 3 • 79.0% Score</p>
                </div>
                <div class="p-2 bg-white/20 rounded-lg"><i data-lucide="crown" class="w-5 h-5 text-white"></i></div>
            </div>
        </div>
        <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-4">
            <div class="flex justify-between items-start">
                <div>
                    <p class="text-slate-500 text-xs font-bold uppercase tracking-wider">Total Revenue</p>
                    <h3 class="text-2xl font-bold text-slate-800 mt-1">$29.4M</h3>
                    
                </div>
                <div class="p-2 bg-emerald-50 rounded-lg"><i data-lucide="dollar-sign" class="w-5 h-5 text-emerald-600"></i></div>
            </div>
        </div>
        <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-4">
            <div class="flex justify-between items-start">
                <div>
                    <p class="text-slate-500 text-xs font-bold uppercase tracking-wider">Avg. Attendance</p>
                    <h3 class="text-2xl font-bold text-slate-800 mt-1">86.8%</h3>
                    <p class="text-red-500 text-xs font-bold mt-1 flex items-center gap-1">
                        <i data-lucide="alert-circle" class="w-3 h-3"></i> Below 95% Goal
                    </p>
                </div>
                <div class="p-2 bg-orange-50 rounded-lg"><i data-lucide="clock" class="w-5 h-5 text-orange-600"></i></div>
            </div>
        </div>
        <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-4">
            <div class="flex justify-between items-start">
                <div>
                    <p class="text-slate-500 text-xs font-bold uppercase tracking-wider">Team Size</p>
                    <h3 class="text-2xl font-bold text-slate-800 mt-1">6 Reps</h3>
                    <p class="text-slate-400 text-xs mt-1">Across all territories</p>
                </div>
                <div class="p-2 bg-slate-50 rounded-lg"><i data-lucide="users" class="w-5 h-5 text-slate-600"></i></div>
            </div>
        </div>
    </div>

    <!-- Main Leaderboards Grid -->
    <div id="leaderboards-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto pb-12">
        <!-- Leaderboards will be injected here via JS -->
    </div>

    <script>
        // --- DATA ---
        const REPS_DATA = [
{
id: 1, name: "Vinal Chand", territory: "Suva 3", totalScore:79,
sales: { target: 4523987, actual: 4546606, achievement: 100.5 },
kpis: { npd:42, colgate: 100, independent: 73, displays: 21, attendance: 88, communication: 77, acquisition: 90 }
},
{
id: 2, name: "Shalen Goundar", territory: "Labasa/Savusavu/Taveuni", totalScore:55,
sales: { target: 2722933, actual: 2723704, achievement: 100.03 },
kpis: { npd:32, colgate: 43, independent: 63, displays: 68, attendance: 84, communication: 45, acquisition: 0 }
},
{
id: 3, name: "Nitesh Mudaliar", territory: "Lautoka/Ba/Tav/Rakiraki", totalScore:64,
sales: { target: 5288905, actual: 5241620, achievement: 99.11 },
kpis: { npd:53, colgate: 50, independent: 77, displays: 91, attendance: 84, communication: 40, acquisition: 10 }
},
{
id: 4, name: "Rohit Dutt", territory: "Nadi/Namaka/Stka", totalScore:61,
sales: { target: 5147083, actual: 5061177, achievement: 98.33 },
kpis: { npd:63, colgate: 31, independent: 93, displays: 25, attendance: 86, communication: 45, acquisition: 50 }
},
{
id: 5, name: "Ravneel Chand", territory: "Suva 1", totalScore:79,
sales: { target: 3736470, actual: 3691977, achievement: 98.81 },
kpis: { npd:58, colgate: 100, independent: 76, displays: 100, attendance: 90, communication: 60, acquisition: 0 }
},
{
id: 6, name: "Sonal Singh", territory: "Suva 2", totalScore:74,
sales: { target: 6274370, actual: 6080061, achievement: 96.90 },
kpis: { npd:61, colgate: 100, independent: 80, displays: 46, attendance: 89, communication: 65, acquisition: 0 }
}
];

        // --- CONFIGURATION ---
        // Defines the structure of each leaderboard card
        const LEADERBOARDS_CONFIG = [
            {
                title: "Overall Score",
                icon: "trophy",
                color: "blue",
                getValue: r => r.totalScore,
                format: v => v.toFixed(1) + "%",
                context: "Weighted Total"
            },
            {
                title: "Sales vs Target",
                icon: "trending-up",
                color: "emerald",
                getValue: r => r.sales.achievement,
                format: v => v.toFixed(2) + "%",
                context: "Revenue Achievement"
            },
            {
                title: "Indep. Mgmt",
                icon: "briefcase",
                color: "purple",
                getValue: r => r.kpis.independent,
                format: v => v + "%",
                context: "Manager Rating"
            },
            {
                title: "NPD Distribution",
                icon: "package-plus",
                color: "indigo",
                getValue: r => r.kpis.npd,
                format: v => v + "%",
                context: "New Product Lines"
            },
            {
                title: "Colgate Certified",
                icon: "award",
                color: "red",
                getValue: r => r.kpis.colgate,
                format: v => v + "%",
                context: "Brand Compliance"
            },
            {
                title: "Displays (O&A)",
                icon: "layout-grid",
                color: "pink",
                getValue: r => r.kpis.displays,
                format: v => v + "%",
                context: "Visual Merch."
            },
            {
                title: "New Acquisition",
                icon: "user-plus",
                color: "cyan",
                getValue: r => r.kpis.acquisition,
                format: v => v + "%",
                context: "Customer Growth"
            },
            {
                title: "Attendance",
                icon: "clock",
                color: "orange",
                getValue: r => r.kpis.attendance,
                format: v => v + "%",
                context: "Punctuality"
            },
            {
                title: "Communication",
                icon: "message-circle",
                color: "teal",
                getValue: r => r.kpis.communication,
                format: v => v + "%",
                context: "Response Quality"
            }
        ];

        // --- RENDER LOGIC ---

        function getIconHtml(name, colorClass) {
            return `<i data-lucide="${name}" class="w-5 h-5 ${colorClass}"></i>`;
        }

        function renderLeaderboards() {
            const container = document.getElementById('leaderboards-grid');
            container.innerHTML = '';

            LEADERBOARDS_CONFIG.forEach(config => {
                // Sort data for this specific metric (descending)
                const sortedReps = [...REPS_DATA].sort((a, b) => config.getValue(b) - config.getValue(a));
                
                // Color Classes mapping
                const colorMap = {
                    blue: { bg: 'bg-blue-50', text: 'text-blue-600', border: 'border-blue-100', iconBg: 'bg-blue-100' },
                    emerald: { bg: 'bg-emerald-50', text: 'text-emerald-600', border: 'border-emerald-100', iconBg: 'bg-emerald-100' },
                    purple: { bg: 'bg-purple-50', text: 'text-purple-600', border: 'border-purple-100', iconBg: 'bg-purple-100' },
                    indigo: { bg: 'bg-indigo-50', text: 'text-indigo-600', border: 'border-indigo-100', iconBg: 'bg-indigo-100' },
                    red: { bg: 'bg-red-50', text: 'text-red-600', border: 'border-red-100', iconBg: 'bg-red-100' },
                    pink: { bg: 'bg-pink-50', text: 'text-pink-600', border: 'border-pink-100', iconBg: 'bg-pink-100' },
                    cyan: { bg: 'bg-cyan-50', text: 'text-cyan-600', border: 'border-cyan-100', iconBg: 'bg-cyan-100' },
                    orange: { bg: 'bg-orange-50', text: 'text-orange-600', border: 'border-orange-100', iconBg: 'bg-orange-100' },
                    teal: { bg: 'bg-teal-50', text: 'text-teal-600', border: 'border-teal-100', iconBg: 'bg-teal-100' },
                };
                const theme = colorMap[config.color];

                // Create Card
                const card = document.createElement('div');
                card.className = `bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden flex flex-col hover-lift`;
                
                // Header
                let listHtml = '';
                
                // Top Performer (Rank 1)
                const topRep = sortedReps[0];
                const topValue = config.getValue(topRep);
                
                const headerHtml = `
                    <div class="p-4 border-b border-slate-100 flex justify-between items-center ${theme.bg}">
                        <div class="flex items-center gap-3">
                            <div class="p-2 rounded-lg ${theme.iconBg} ${theme.text} bg-white/60">
                                <i data-lucide="${config.icon}" class="w-5 h-5"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-slate-800 text-sm">${config.title}</h3>
                                <p class="text-[10px] text-slate-500 uppercase tracking-wide font-semibold">${config.context}</p>
                            </div>
                        </div>
                    </div>
                `;

                // List Items
                listHtml += `<div class="flex-1 overflow-y-auto">`;
                
                sortedReps.forEach((rep, index) => {
                    const value = config.getValue(rep);
                    const rank = index + 1;
                    const isTop = rank === 1;
                    
                    // Styling for Rank 1 vs others
                    const rankBadge = isTop 
                        ? `<div class="w-6 h-6 rounded-full ${theme.bg} ${theme.text} flex items-center justify-center text-xs font-bold ring-2 ring-white shadow-sm"><i data-lucide="crown" class="w-3 h-3"></i></div>`
                        : `<div class="w-6 h-6 rounded-full bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold">${rank}</div>`;
                    
                    const rowBg = isTop ? 'bg-gradient-to-r from-white to-slate-50' : '';
                    const valColor = isTop ? theme.text : 'text-slate-800';
                    const valWeight = isTop ? 'font-extrabold' : 'font-semibold';

                    listHtml += `
                        <div class="flex items-center justify-between p-3 border-b border-slate-50 last:border-0 ${rowBg}">
                            <div class="flex items-center gap-3">
                                ${rankBadge}
                                <div>
                                    <p class="text-sm font-semibold text-slate-700 leading-tight">${rep.name}</p>
                                    <p class="text-[10px] text-slate-400">${rep.territory}</p>
                                </div>
                            </div>
                            <div class="text-right">
                                <span class="${valColor} ${valWeight} text-sm block">${config.format(value)}</span>
                            </div>
                        </div>
                    `;
                });
                listHtml += `</div>`;

                card.innerHTML = headerHtml + listHtml;
                container.appendChild(card);
            });
            
            lucide.createIcons();
        }

        // Init
        window.onload = function() {
            renderLeaderboards();
        };

    </script>
</body>
</html>

